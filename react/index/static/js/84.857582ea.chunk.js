"use strict";(self.webpackChunkarco_design_pro=self.webpackChunkarco_design_pro||[]).push([[84,272,601],{19653:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var a=n(15671),r=n(43144),i=n(60136),s=n(43668),l=(n(47872),n(82357)),o=(n(56710),n(86721)),c=(n(58186),n(3024)),u=(n(35749),n(29413)),v=(n(84094),n(6438)),h=(n(45886),n(98029)),d=n(4519),f=(n(86272),n(17601));var m,k,N,b=n(43270),y=n.n(b),p=h.Z.Option,E=["\u5165\u95e8","\u7b80\u5355","\u4e2d\u7b49","\u56f0\u96be"],g=["cellClick","wrongNumber","sameNumber"],w=[1,2,3,4,5,6,7,8,9];function Z(e){for(var t=(0,f.init)(e),n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)t[n][a]={value:t[n][a],disabled:void 0!==t[n][a]};return t}function C(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return n}function L(e,t){t?(e.classList.add(g[1]),v.Z.error("\u586b\u7684\u6570\u5b57\u91cd\u590d\u4e86")):e.classList.remove(g[1])}function M(e){var t=Math.floor(e%60),n=Math.floor(e/60);return"".concat(n," : ").concat(t)}var T=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).state={result:[],choose:{i:-1,j:-1},hoverTarget:void 0,showModal:!1,level:1,startTime:0},r.table=d.createRef(),r}return(0,r.Z)(n,[{key:"init",value:function(){this.setState({result:Z(this.state.level),startTime:0}),clearInterval(m),m=this.newInterval()}},{key:"newInterval",value:function(){var e=this;return setInterval((function(){var t=e.state.startTime+1;e.setState({startTime:t})}),1e3)}},{key:"componentDidMount",value:function(){var e=this;k=function(e,t){var n=function(n){e.contains(n.target)||t(n)};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}(this.table.current,(function(){e.setGrandsonClass(!1)})),N=this.keyUpHandler(),this.init()}},{key:"componentWillUnmount",value:function(){clearInterval(m),k(),N()}},{key:"setGrandsonClass",value:function(e,t,n,a){var r=this.table.current;if(e)for(var i=0;i<r.childNodes.length;i++)for(var s=0;s<r.childNodes[i].childNodes.length;s++){var l=r.childNodes[i].childNodes[s].childNodes[0],o=l.innerText;""!==o&&t===o?l.classList.add(g[2]):l.classList.remove(g[2]),n===i&&a===s?l.classList.add(g[0]):l.classList.remove(g[0])}else for(var c=0;c<r.childNodes.length;c++)for(var u=0;u<r.childNodes[c].childNodes.length;u++){var v;(v=r.childNodes[c].childNodes[u].childNodes[0].classList).remove.apply(v,g)}}},{key:"clickEle",value:function(e){if("SPAN"===e.target.nodeName){var t=e.target.parentNode,n=t.parentNode,a=C(n,n.parentNode.childNodes),r=C(t,n.childNodes);this.setState({choose:{i:a,j:r}}),this.setGrandsonClass(t,e.target.innerText,a,r)}}},{key:"chooseNum",value:function(e){var t=this.state.choose,n=t.i,a=t.j;if(-1!==n||-1!==a){var r="number"===typeof e?e:Number(e.target.innerText),i=this.state.result;if(i[n][a].disabled)return void v.Z.warning("\u8fd9\u4e2a\u6570\u5b57\u4e0d\u53ef\u66f4\u6539");var s=this.table.current.childNodes[n].childNodes[a].childNodes[0];(0,f.row_contains)(i[n],r)||(0,f.column_contains)(i,a,r)||(0,f.block_contains)(i,n,a,r)?L(s,!0):(L(s,!1),i[n][a].value=r,this.setState({result:i}),this.check())}}},{key:"keyUpHandler",value:function(){var e=this;function t(t){var n=Number(t.key);isNaN(n)||e.chooseNum(n)}return window.addEventListener("keyup",t),function(){window.removeEventListener("keyup",t)}}},{key:"clear",value:function(){var e=this.state.result,t=this.state.choose,n=t.i,a=t.j;n<0&&a<0||e[n][a].value&&!e[n][a].disabled&&(e[n][a].value=void 0,this.setState({result:e}))}},{key:"check",value:function(){for(var e=this.state.result,t=!1,n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)if(void 0===e[n][a].value)return void(t=!0);t||(this.setState({showModal:!0}),clearInterval(m),v.Z.success("\u606d\u559c\u5b8c\u6210\uff01"))}},{key:"nextGame",value:function(){this.setState({showModal:!1}),this.init(),this.setGrandsonClass()}},{key:"nextGameCancel",value:function(){this.setState({showModal:!1}),m=this.newInterval()}},{key:"chooseLevel",value:function(e){this.setState({level:e}),this.init()}},{key:"render",value:function(){var e=this;return d.createElement(l.Z,null,d.createElement(h.Z,{placeholder:"\u96be\u5ea6",onChange:this.chooseLevel.bind(this),className:"chooseLevel",defaultValue:1},d.createElement(p,{value:1},E[0]),d.createElement(p,{value:2},E[1]),d.createElement(p,{value:3},E[2]),d.createElement(p,{value:4},E[3])),d.createElement(u.Z,{onClick:this.clear.bind(this),className:"clickButton clear"},"\u6e05\u9664"),d.createElement(u.Z,{onClick:this.init.bind(this),className:"clickButton reset"},"\u91cd\u7f6e"),d.createElement(u.Z,{className:"clickButton timeUsed"},M(this.state.startTime)),d.createElement("div",{className:"table",ref:this.table,onClick:this.clickEle.bind(this)},this.state.result.map((function(e,t){return d.createElement("div",{className:t%3===0&&t>0?"row line":"row",key:t},e.map((function(e,t){return d.createElement("div",{className:t%3===0&&t>0?"cell column":"cell",key:t},d.createElement("span",{className:y()(["content",{nullClass:!e.disabled}])}," ",e.value))})))}))),d.createElement("div",{className:"numbers"},d.createElement(c.Z,{size:"large"},w.map((function(t){return d.createElement(u.Z,{key:t,className:"chooseNumber",onClick:e.chooseNum.bind(e)},t)})))),d.createElement(o.Z,{visible:this.state.showModal,title:"\u6e38\u620f\u5b8c\u6210",onOk:this.nextGame.bind(this),onCancel:this.nextGameCancel.bind(this),cancelText:"\u53d6\u6d88",okText:"\u91cd\u65b0\u5f00\u59cb"},d.createElement("span",null,"\u606d\u559c\u5b8c\u6210\u6e38\u620f\uff0c\u7528\u65f6 ",M(this.state.startTime),", \u5f00\u59cb\u4e0b\u4e00\u5c40\u5427")))}}]),n}(d.Component)},17601:function(e,t,n){n.r(t),n.d(t,{row_contains:function(){return i},column_contains:function(){return s},block_contains:function(){return l},init:function(){return v}});var a=n(37762);function r(e){return e=(e+=1)>9?1:e}var i=function(e,t){if(null==e)return!1;var n,r=(0,a.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i&&i.value===t)return!0}}catch(s){r.e(s)}finally{r.f()}return!1},s=function(e,t,n){var r,i=(0,a.Z)(e);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(!s[t])return!1;if(s[t].value===n)return!0}}catch(l){i.e(l)}finally{i.f()}return!1},l=function(e,t,n,a){for(var r=3*Math.floor(t/3),s=3*Math.floor(n/3),l=[],o=r;o<r+3;o++)for(var c=s;c<s+3;c++)e[o]&&e[o][c]&&(l[3*(o-r)+(c-s)]={value:e[o][c]});return i(l,a)};function o(e,t,n){for(var a=0;a<e[t].length;a++){var r=e[t][a];e[t][a]=e[n][a],e[n][a]=r}}function c(e,t,n){for(var a=0;a<e.length;a++){var r=e[a][t];e[a][t]=e[a][n],e[a][n]=r}}function u(e){return Math.ceil(Math.random()*e)}var v=function(e){var t=[];t[0]=function(){for(var e=[],t=0;t<9;t++)e[t]=t+1;return e}();for(var n=1;n<9;n++){t.push([]);for(var a=0;a<9;a++){for(var v=r(t[n-1][a]);i(t[n],v)||s(t,a,v)||l(t,n,a,v);)v=r(v);t[n][a]=v}}return function(e){for(var t=u(40)+10,n=0;n<t;n++){var a=u(3)-1,r=u(3)-1;a!==r&&o(e,a,r);var i=u(3)-1,s=u(3)-1;i!==s&&o(e,i+3,s+3);var l=u(3)-1,v=u(3)-1;l!==v&&o(e,l+6,v+6);var h=u(3)-1,d=u(3)-1;h!==d&&c(e,h,d);var f=u(3)-1,m=u(3)-1;f!==m&&c(e,f+3,m+3);var k=u(3)-1,N=u(3)-1;k!==N&&c(e,k+6,N+6)}}(t),function(e,t){var n,a;switch(e){case 1:n=20,a=10;break;case 2:n=30,a=10;break;case 3:n=35,a=10;break;default:n=45,a=5}for(var r=u(a)+n,i=0;i<r;i++)for(;;){var s=u(9)-1,l=u(9)-1;if(t[s][l]>0){t[s][l]=void 0;break}}}(e,t),t}},86272:function(e,t,n){n.r(t),t.default={}}}]);
//# sourceMappingURL=84.857582ea.chunk.js.map